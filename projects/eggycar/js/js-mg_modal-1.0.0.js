var MG_Modal=(()=>{var s,a;function t(){this.closeButton=null,this.container=null,this.modal=null,this.options=((t,e)=>{var o,n={};for(o in t)t.hasOwnProperty(o)&&(n[o]=t[o]);for(o in e)e.hasOwnProperty(o)&&(n[o]=e[o]);return n})({autoOpen:!1,className:"generalMTubes",closeButton:!0,closeDocument:!0,closeKey:!1,content:"",maxWidth:"",minWidth:"",overlay:!0,position:"",pageScrolling:!1,timeMs:null,lazyload:!1,afterunload:null,flagCommentCancelClass:"flagCommentCancel"},arguments[0]||{}),this.closeModal=this.closeModal.bind(this),this.openModal=this.openModal.bind(this),this.options.autoOpen&&this.openModal()}function l(){var e=null;if(document.createElement){var t=document.createElement("p"),o=/^rgba/;if(t&&t.style&&"function"==typeof o.test)try{t.style.color="rgba(1, 1, 1, 0.5)",e=o.test(t.style.color)}catch(t){e=!1}}return e}return t.prototype={constructor:t,closeModal:function(t){var e;s=!1,document.body.classList.remove("isOpenMTubes"),this.container&&this.container.parentNode&&this.container.parentNode.removeChild(this.container),this.options.timeMs&&clearTimeout(a),this.options.pageScrolling&&((e=document.body).classList.remove("scrollMTubes"),e.style.height=""),t&&"function"==typeof t&&t(this.container,this.modal),this.options.afterunload&&"function"==typeof this.options.afterunload&&this.options.afterunload(this.container,this.modal)},openModal:function(t){if(!s){!function(){var t,e=document.createElement("div"),o=document.createDocumentFragment();t="string"==typeof this.options.content?this.options.content:this.options.content.innerHTML.replace(/MHP1138-/gi,"");(function(){this.container=document.createElement("div"),this.container.id="modalWrapMTubes",this.container.className=(l()?"":"noRbga bg-legacy-opacity ")+"fadeInMTubes containerMTubes "+this.options.className;return this.container}).call(this),function(){return this.modal=document.createElement("div"),this.modal.className="modalMTubes "+this.options.className,this.modal.style.minWidth=this.options.minWidth,this.modal.style.maxWidth=this.options.maxWidth,this.modal}.call(this),e.className="contentMTubes",e.innerHTML=t,this.modal.appendChild(e),this.container.appendChild(this.modal),function(){this.options.closeButton&&(this.closeButton=document.createElement("button"),this.closeButton.className="ph-icon-cross closeMTubes buttonMTubes",this.modal.appendChild(this.closeButton));this.options.overlay&&this.container.classList.add("isVisibleMTubes");{var t,e;this.options.pageScrolling&&(t=document.body,e=document.documentElement,e=Math.max(t.scrollHeight,t.offsetHeight,e.clientHeight,e.scrollHeight,e.offsetHeight),[this.container,t].forEach(t=>t.classList.add("scrollMTubes")),t.style.height=e+"px")}this.options.position&&(this.modal.style.marginTop=this.options.position)}.call(this),o.appendChild(this.container),document.body.appendChild(o)}.call(this),!function(){var o=this;{var t,n;this.closeButton&&(t=o.container.querySelector("#"+this.options.flagCommentCancelClass),n=function(){o.closeModal();var t=document.querySelector("form input.intendedAction"),e=document.querySelector("form input.userId");t&&e&&(t.value="",e.value=""),o.closeButton.removeEventListener("click",n)},o.closeButton.addEventListener("click",n),t)&&t.addEventListener("click",n)}if(this.container&&this.options.closeDocument){let e=!1;this.modal.addEventListener("mousedown",function(){e=!0});this.container.addEventListener("mouseup",function(t){t.target!==o.container||e||(getSelection().toString()||o.closeModal(),"undefined"!=typeof google&&google.accounts.id.cancel()),e=!1})}{var e;this.container&&this.options.closeKey&&(e=function(t){27==(t.keyCode||t.charCode)&&(o.closeModal(),document.removeEventListener("keyup",e))},document.addEventListener("keyup",e))}}.call(this),document.body.classList.add("isOpenMTubes"),[this.modal,this.container].forEach(t=>t.classList.add("elOpenMTubes")),this.options.timeMs&&(e=this,a=setTimeout(function(){e.closeModal()},this.options.timeMs)),t&&"function"==typeof t&&t(this.container,this.modal);var e,t=this.options.content;if("string"!=typeof t)for(var o=0,n=t.querySelectorAll("*"),i=n.length;o<i;o++)n[o].id&&!n[o].id.match(/MHP1138-/gi)&&(n[o].id="MHP1138-"+n[o].id);this.options.lazyload&&(t=this.container)&&[].forEach.call(t.querySelectorAll(".lazy"),function(t){var e=t.getAttribute("data-src");e&&t.setAttribute("src",e)})}s=!0}},t})();