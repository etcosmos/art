class Interval{constructor(){if(Interval._instance)throw new Error("Singleton classes can't be instantiated more than once.");(Interval._instance=this).delay=1e3,this.eventName="intervalTick",this.event=new CustomEvent(this.eventName,{detail:{delay:this.delay}}),this.intervalInstance=null,this.intervalTickIndex=0,this.subscribedCallbacks=[]}subscribe(t="",e=null,n=this.delay){if(!t)throw new Error("A callback name is required");if(-1!==this.subscribedCallbacks.findIndex(({name:e})=>e===t))throw new Error("This callbackName is already in use");if(!e||"function"!=typeof e)throw new Error("A callback function is required");let a=this;function i(){if(a.intervalTickIndex%(n/1e3)!=0)return!0;e()}this.subscribedCallbacks.push({name:t,delay:n,throttledCallback:i}),window.addEventListener(this.eventName,i),this.intervalInstance||this.startInterval()}unsubscribe(t){if(!t)throw new Error("No callback name provided");var e,n=this.subscribedCallbacks.findIndex(({name:e})=>e===t);-1!==n&&(e=this.subscribedCallbacks[n].throttledCallback,window.removeEventListener(this.eventName,e),this.subscribedCallbacks.splice(n,1),!this.subscribedCallbacks.length)&&this.intervalInstance&&this.stopInterval()}startInterval(){this.intervalInstance=setInterval(()=>{window.dispatchEvent(this.event),this.intervalTickIndex++},this.delay)}stopInterval(){clearInterval(this.intervalInstance),this.intervalInstance=null,this.intervalTickIndex=0}}var mainInterval=new Interval;